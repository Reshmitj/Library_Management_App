<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Register</title>
    <link rel="stylesheet" href="/css/styles.css">
    <script>
        function validatePassword() {
            var password = document.getElementById("password").value;
            var errorMsg = document.getElementById("passwordError");
            var regex = /^(?=.*[A-Z])(?=.*[a-z])(?=.*\d)(?=.*[@#$%^&+=!])(?=\S+$).{8,}$/;

            if (!regex.test(password)) {
                errorMsg.innerText = "Password must be at least 8 characters, include an uppercase letter, a lowercase letter, a number, and a special character.";
                return false;
            } else {
                errorMsg.innerText = "";
                return true;
            }
        }
    </script>
</head>
<body>
    <div class="navbar">
        <a href="/">Library Management System</a>
    </div>

    <div class="form-container">
        <h2>Register</h2>
        <form action="/user/register" method="post" onsubmit="return validatePassword()">
            <input type="text" name="name" placeholder="Full Name" required>
            <input type="email" name="email" placeholder="Email Address" required>
            <input type="password" id="password" name="password" placeholder="Password" required>
            <p id="passwordError" style="color:red;"></p>
            <button type="submit">Register</button>
        </form>
        <p>Already have an account? <a href="/login">Login here</a></p>
    </div>
</body>
</html>
